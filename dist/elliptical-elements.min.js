!function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("elliptical-controller")):"function"==typeof define&&define.amd?define(["elliptical-controller"],e):t.returnExports=e($)}(this,function(t){t.controller.service=function(){for(var e=[],i=[].slice.call(arguments),n=0;n<i.length;n++){var o=i[n]["@class"];o||(o=i[n].constructor&&i[n].constructor["@class"]?i[n].constructor["@class"]:"Model"),e.push({name:o,service:i[n]})}var s=t.Widget.prototype.options;s.services="undefined"!=typeof s.services?s.services.concat(e):e};var e={service:function(t){var e=null,i=null;return this.options.services.forEach(function(n){n.name===t?e=n.service:"Model"===n.name&&(i=n.service.extend({},{}),i["@class"]=t)}),e?e:i},__onPreInit:function(){var t=this.options.context;t&&(this._data.authenticated=this.options.context.authenticated,this._data.membership=this.options.context.membership)}};return t.extend(t.elliptical.controller.prototype,e),t}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("../controller/controller")):"function"==typeof define&&define.amd?define(["../controller/controller"],e):t.returnExports=e($)}(this,function(t){return t.controller("elliptical.scroll",{_initController:function(){this._support.mq.touch||this._scrollEvent()},_onScroll:t.noop,_scrollEvent:function(){var e=this;t(window).on("scroll",function(){var t=window.pageYOffset;e._onScroll(t)})},_onDestroy:function(){t(window).off("scroll")}}),t}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("../controller/controller")):"function"==typeof define&&define.amd?define(["../controller/controller"],e):t.returnExports=e()}(this,function(){return $.controller("elliptical.slideNotification",{options:{template:"ui-slide-notification",cssModalClass:null,animationIn:"bounceInDown",animationOut:"bounceOutUp",modalCssClass:null,modalZIndex:999,modalOpacity:.3,model:{}},_initElement:function(){this.__selector(),this._attachElement(),this._show()},_subscriptions:function(){this._subscribe("slide.notification.hide",this._hide.bind(this))},__selector:function(){var t=this.options.$customElements;this._data.selector=t?"ui-slide-Notification":".ui-slide-notification"},_attachElement:function(){var t=$("<div></div>");this._data.container=t;var e=this.element;e.append(t)},_show:function(){var t=this;this._showModal(function(){t._renderElement()})},_renderElement:function(){var t=this,e=this._data.container;this._render(e,{template:this.options.template,model:this.options.model},function(){t._data.element=e.find(t._data.selector),t._animate();var i=e.find("button");t._data.button=i,t._close()})},_showModal:function(t){var e={};this.options.modalCssClass&&(e.cssClass=this.options.modalCssClass),e.opacity=this.options.modalOpacity,e.zIndex=this.options.modalZIndex,this._setModal(this.element,e,function(){t()})},_animate:function(){var t=this;this._onEventTrigger("showing",{});var e=this._data.element;this._transitions(e,{preset:"bounceInDown"},function(){t._onEventTrigger("show",{})})},_close:function(){var t=this,e=this._data.button;e&&e.on("click",function(){t._hide()})},_hide:function(){this._removeModal();var t=this._data.element;this._onEventTrigger("hiding",{}),$.browser.msie?this._destroy():this.__transitionOut(t)},__transitionOut:function(t){var e=this,i=this.options.animationOut;this._transitions(t,{preset:i},function(){e.destroy()})},_unbindButtonEvent:function(){var t=this._data.button;t&&t.off("click")},_onDestroy:function(){this._unbindButtonEvent();var t=this._data.container;t.remove()},hide:function(){this._hide()}}),$}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("../controller/controller")):"function"==typeof define&&define.amd?define(["../controller/controller"],e):t.returnExports=e($)}(this,function(t){t(function(){return t.controller("elliptical.modelList","ui-model-list",{__setScope:function(){var t=this.options.context,e=this.options.scope,i=this.options.idProp;void 0===i&&(this.options.key=this._data.scopeId),e&&t?this.$scope[e]=t[e]:this.$scope={items:[]}},_initController:function(){},__onActiveSubscribe:function(t){var e=this.__templateModels();e.removeClass("active");var i=this.__templateNode(t);i.addClass("active")},__onSyncSubscribe:function(t){if(!t||void 0===t)return!1;var e=t.$scope,i=this,n=e[Object.keys(e)[0]];return n.forEach(function(t){var e={};e.added=[],e.added.push(t),i.__onScopeChange(e)}),this._onSyncSubscribe(e),!0},_publishCount:function(){var t=this.__scopeLength();this.options.channel?this._publish(this.options.channel+".count",t):this.options.scope&&this._publish(this.options.scope+".count",t)},_publishRemove:function(){this.options.channel&&this._publish(this.options.channel+".remove",{})},_onScopeChange:function(t){this._publishCount();var e=this.options.service,i=this.options.idProp,n=this.options.modelKey;void 0!==n&&(i=n);var o=this.options.eventBlock;if("undefined"!=typeof e&&!o){var s=this.service(e);t.removed&&t.removed.length&&t.removed.forEach(function(t){var e={};e[i]=t[i],s.delete(e)})}}}),t})}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("ellipsis-element")):"function"==typeof define&&define.amd?define(["ellipsis-element"],e):t.returnExports=e($)}(this,function(t){t.element("elliptical.modelDelete","ui-model-delete",{options:{confirm:!1,confirmText:"Are you sure you want to delete this item?",disabled:!1},_initElement:function(){var t=this.options.$customElements;this._data.selector=t?"ui-model":'[data-node="model"]'},_events:function(){var t=this._data.click,e=this;this.element.on(t,function(){e.options.disabled||e._remove()})},_remove:function(){var t=this.options.confirm,e=this.options.confirmText,i=this._data.selector,n=this.element.parents(i),o=n[0];if(t){if(confirm(e))try{o.remove()}catch(s){n.remove()}}else try{o.remove()}catch(s){n.remove()}},_destroy:function(){var t=this._data.click;this.element.off(t)},disable:function(){this.options.disabled=!0,this.element.addClass("disabled")},enable:function(){this.options.disabled=!1,this.element.removeClass("disabled")}})}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("elliptical-form")):"function"==typeof define&&define.amd?define(["elliptical-form"],e):t.returnExports=e($)}(this,function(t){var e={__setScope:t.noop,_initController:function(){this._data.data=null,this._data.notificationElement=null,this._setFormElement(),this.__setFormScope(),this._initForm()},__setFormScope:function(){var t=this.options.scope,e=this.options.context;if(e||(e=$$.elliptical.context),t&&"undefined"!=typeof t){var i=this.__cloneObject(e[t]);this.$scope=i}},_initForm:function(){},_events:function(){t(document).on(this.options.submitEvent,this._onValidate.bind(this)),t(document).on(this.options.resetEvent,this._onReset.bind(this)),this._onEvents()},_subscriptions:function(){this._subscribe(this.options.resetSubscription,this._onReset.bind(this)),this._onSubscriptions()},_onEvents:t.noop,_onSubscriptions:t.noop,_onValidate:function(t,e){this.__verifyFormElement(e.element)&&(this.options.schema?this._validate(e):this.___onSubmit(e))},__verifyFormElement:function(t){var e=this._form();return e[0]?e[0]===t:!1},_onReset:function(){this._reset(),this._killNotification()},___onSubmit:function(t){this.options.service?this.__onSubmit(t):this._onSubmit(t)},_validate:function(t){var e=this.service("Validation"),i=t.body,n=this.options.schema,o=this._data.form,s=o.attr("method"),r=o.attr("action");void 0!==e?this._callValidation(e,t,i,s,r,n):this.___onSubmit(t)},_callValidation:function(t,e,i,n,o,s){var r=this;i=this._onBeforeValidate(i),t.post(i,s,function(t,i){t?(i.action=o,i.method=n,r._onError(t,i),r._renderError(i)):r.___onSubmit(e)})},_onSubmit:t.noop,_onSuccess:t.noop,_onError:t.noop,_onBeforeSubmit:function(t){return t},_onBeforeValidate:function(t){return t},__onSubmit:function(t){this._notify("info",this.options.processingMsg,!1);var e=this._onBeforeSubmit(t.body),i=this,n=this.options.service;if(n){var o=this._data.form,s=o.attr("method").toLowerCase(),r=this.service(n);r[s](e,function(e,n){e?(i._triggerEvent(i.options.failureEvent,e),i._sendNotification(e,null),i._onError(e,t),i._renderError({})):(i._triggerEvent(i.options.successEvent,n),i._onSuccess(n),i._renderSuccess(n),i._sendNotification(e,n))})}else{var a={};a.statusCode=400,a.message="Model undefined",this._onError(a,t),this._renderError({})}},_renderSuccess:function(t){var e=this.service("Validation");t=e.onSuccess(t);var i=this._mergeFormData(t);this._renderForm(i)},_renderError:function(t,e){var i=this.service("Validation");t=i.onError(t,e);var n=this._mergeFormData(t);this._renderForm(n)},_mergeFormData:function(e){return t.extend({},this.$scope,e)},_renderForm:function(t){var e=this;this.$render(t,function(){e.__rebindTemplate()})},_setFormElement:function(){var t=this.element.find("form");this._data.form=t},_sendNotification:function(e,i,n){var o=this;void 0===n&&(n=1e3);var s={};s.terminate=!0,s.data=i,e?(s.cssClass="error",s.message="string"==typeof e.message?e.message:"Submission Error..."):s.slideIn=!0,setTimeout(function(){o._notification(t("body"),s)},n)},_notification:function(t,e,i){this._data.notificationElement=t;var n=this;"function"==typeof e?e={}:e||(e={}),e.slideIn=e.slideIn||!1,e.slideIn?(e.terminateTimeout=e.terminateTimeout||100,e.cssModalClass=e.cssModalClass||"forms",setTimeout(function(){t.data("ellipsisNotification")&&t.notification("destroy"),e.model=n._getNotificationModel(),e.context="model",t.slideNotification(e)},e.terminateTimeout),i&&i()):(e.terminateTimeout=e.terminateTimeout||1e3,e.inline=e.inline||!1,e.terminateDelay=e.terminateDelay||1e3,e.cssClass=e.cssClass||"info",e.message=e.message||"processing...",e.terminate=e.terminate||!1,t.notification(e),t.notification("show"),i&&i())},_getNotificationModel:function(){{var t={},e=this._data.form,i=e.attr("method");e.attr("action")}return i&&"post"===i.toLowerCase()&&(t.reset=!0),t.referrer={url:document.referrer},this.options.redirect&&(t.redirect={url:this.options.redirect},this.options.redirectLabel&&(t.redirect.label=this.options.redirectLabel)),t},_killNotifier:function(){var e=t("body");e.data("ellipsisNotification")&&e.notification("destroy")},_killNotification:function(){var t=this._data.notificationElement;t[0]&&t.slideNotification("hide")},__$scopePropsChange:function(t){var e=this,i=this.element,n=i.find(".ui-semantic-label");n[0]&&n.hasClass("error")&&n.removeClass("error").removeClass("visible").addClass("hidden"),t.changed.forEach(function(t){if(t){var n=e._objectChange(t);if(n)for(var o in n)if(n.hasOwnProperty(o)){var s=i.find('input[name="'+o+'"]');s[0]&&s.hasClass("error")&&s.removeClass("error")}}});var o=this._objectChange;t.changed&&t.changed.length&&t.changed.forEach(function(t){var i=o(t);e._$scopePropsChange(i)})},_reset:function(){this.__disposeTemplate();var t=this._scopedContextModel(),e=this;this.$render(t,function(){e.__setFormScope(),e.__resetObservable(),e.__rebindTemplate()})},_onDestroy:function(){t(document).off(this.options.submitEvent),t(document).off(this.options.resetEvent)},notification:function(t,e,i){this._notification(t,e,i)},reset:function(){this._reset()},renderForm:function(t){this._renderForm(t)}},i={submitEvent:"elliptical.onDocumentSubmit",successEvent:"elliptical.onSubmitSuccess",failureEvent:"elliptical.onSubmitFailure",resetEvent:"elliptical.onFormReset",resetSubscription:"elliptical.form.reset",schemas:null,schemaValidation:null,resetModel:{submitLabel:{cssDisplay:"hidden",message:"&nbsp;"}},processingMsg:"Processing...",redirectLabel:null,redirect:null};return t.extend(t.elliptical.form.prototype,e),t.extend(t.elliptical.form.prototype.options,i),t}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("../form/form")):"function"==typeof define&&define.amd?define(["../form/form"],e):t.returnExports=e($)}(this,function(t){return t(function(){t.form("elliptical.loginForm","ui-login-form",{_initForm:function(){this._getRedirectUrl()},_getRedirectUrl:function(){var t=this.service("Location"),e=t.href,i=t.url.queryString(e,"returnUrl");this._data.redirectUrl=i&&void 0!==i?i:this.options.redirect},_onSubmit:function(t){var e=t.body,i=this._data.form,n=i.attr("method"),o=i.attr("action"),s=this.service("Validation"),r=this.options.schema;s&&s.post?this._validate(s,e,r,o,n):this._login(e)},_validate:function(t,e,i,n,o){var s=this;t.post(e,i,function(t,i){t?(i.action=n,i.method=o,s._renderForm(i)):s._login(e)})},_login:function(t){var e=this,i=this.service("Location"),n=this.service("Membership");this._showLoader(),n.login(t,function(t,n){setTimeout(function(){if(e._hideLoader(),t)e._renderError({},"Invalid Login");else{var o=n.redirectUrl&&void 0!==n.redirectUrl?n.redirectUrl:e._data.redirectUrl;i.redirect(o)}},1e3)})}})}),t}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("../form/form")):"function"==typeof define&&define.amd?define(["../form/form"],e):t.returnExports=e($)}(this,function(t){return t(function(){t.form("elliptical.signupForm","ui-signup-form",{_initForm:function(){this._getRedirectUrl()},_getRedirectUrl:function(){this._data.redirectUrl=this.options.redirect},_onSubmit:function(t){var e=t.body,i=this._data.form,n=i.attr("method"),o=i.attr("action"),s=this.service("Validation"),r=this.options.schema;s&&s.post?this._validate(s,e,r,o,n):this._login(e)},_validate:function(t,e,i,n,o){var s=this;t.post(e,i,function(t,i){t?(i.action=n,i.method=o,i=s._mergeFormData(i),s._renderForm(i)):s._login(e)})},_login:function(t){var e=this,i=this.service("Location"),n=this.service("Membership");this._showLoader(),n.signUp(t,function(t,n){setTimeout(function(){if(e._hideLoader(),t)e._renderError({},"Invalid Sign-Up");else{var o=n.redirectUrl&&void 0!==n.redirectUrl?n.redirectUrl:e._data.redirectUrl;i.redirect(o)}},1e3)})}})}),t}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("../controller/controller")):"function"==typeof define&&define.amd?define(["../controller/controller"],e):t.returnExports=e($)}(this,function(t){return t.controller("elliptical.autoCompleteBind",{options:{dataBind:!1},_initController:t.noop,_onAutoCompleteBinding:t.noop,_onAutoCompleteSelected:t.noop,_events:function(){var e=this;this._event(t(document),"autocomplete.binding",function(t,i){e._onAutoCompleteBinding(t,i)}),this._event(t(document),"autocomplete.selected",function(t,i){e._onAutoCompleteSelected(t,i)})}}),t}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("../controller/controller")):"function"==typeof define&&define.amd?define(["../controller/controller"],e):t.returnExports=e($)}(this,function(t){t(function(){return t.controller("elliptical.badge","ui-model-badge",{_initController:function(){var t=this.element.text();t="undefined"!=typeof t||""!==t?parseInt(t):0,this._data.count=t},_subscriptions:function(){var t=this.options.channel+".count";this._subscribe(t,this._onCountInit.bind(this))},_onRemoveSubscribe:function(){var t=this._data.count;t--,this._data.count=t,this.element.text(t)},_onAddSubscribe:function(){var t=this._data.count;t++,this._data.count=t,this.element.text(t)},_onCountInit:function(t){this._data.count=parseInt(t)},_onChangeSubscribe:t.noop}),t})}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("elliptical-pubsub"),require("../controller/controller")):"function"==typeof define&&define.amd?define(["elliptical-pubsub","../controller/controller"],e):t.returnExports=e()}(this,function(){return $.element("elliptical.modelPaginatedCount","ui-pagination-badge",$.elliptical.pubsub,{_initController:function(){},_subscriptions:function(){var t=this.options.channel;this._subscribe(t+".count",this._setLabel.bind(this))},_setLabel:function(t){this._data.count=t,this.element.text(t)},_setCount:function(){var t=this.data.count;t--,this._setLabel(t)}}),$}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("../controller/controller")):"function"==typeof define&&define.amd?define(["../controller/controller"],e):t.returnExports=e($)}(this,function(t){t(function(){return t.controller("elliptical.pluralize","ui-pluralize",{_initController:function(){},_onRemoveSubscribe:function(){var t=this.options.count,e=this.options.singular,i=this.options.plural;t--,this.options.count=t,this.element.text(1===t?e:i)},_onAddSubscribe:function(){var t=this.options.count,e=this.options.singular,i=this.options.plural;t++,this.options.count=t,this.element.text(1===t?e:i)},_onChangeSubscribe:function(t){var e=this.options.singular,i=this.options.plural;this.options.count=t,this.element.text(1===t?e:i)}}),t})}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("../controller/controller")):"function"==typeof define&&define.amd?define(["../controller/controller"],e):t.returnExports=e($)}(this,function(t){t(function(){return t.controller("elliptical.selectList",{options:{dataBind:!1},_onChange:t.noop,_events:function(){var e=this;this._event(this.element,"change",function(i){var n=t(i.target),o=n.val();e._onChange(o)})}}),t})}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("../controller/controller")):"function"==typeof define&&define.amd?define(["../controller/controller"],e):t.returnExports=e($)}(this,function(t){return t.controller("elliptical.autosearch",t.elliptical.autoCompleteBind,{options:{dataBind:!1},_initController:function(){if(!this._support.mq.touch){this._data.element=null;var t=this.element.find("input");if(this._data.input=t,this._initAutoSearch(t),this._data.message=this.options.message||"Your search filter returned no results...",this._data.cssClass=this.options.cssClass||"warning",this._data.paginationContext=this.options.paginationContext||"pagination",this._data.paginationTemplate=this.options.paginationTemplate||"ui-pagination",this._instantiated(t[0],"autocomplete"))try{t.autocomplete("destroy")}catch(e){}else this._onAutocompleteLoaded()}},_onAutocompleteLoaded:function(){var e=this._data.input;this._event(t(document),"autocomplete.loaded",function(){try{e.autocomplete("destroy")}catch(t){}})},_onSyncSubscribe:function(t){this._data.element||(t.$filterQueue=0,this._data.element=t)},_onInput:function(){var t=this._data.input,e=this;t.keyup(function(t){e._onChange(t)})},_onChange:function(t){var e=t.which,i=this;console.log("search keyboard key: "+e),(e>=48&&90>=e||8===e)&&setTimeout(function(){i._filter()},100)},_applyData:function(t){var e=this._data.element;e.options.eventBlock=!0,e.$filterQueue=e.$filterQueue+1;var i=this.$scope;e.$empty(),t&&t.length?(e._killNotificationLabel(),this._onScopeBind(i,e,t)):e._notificationLabel({cssClass:this._data.cssClass,message:this._data.message})},_updatePagination:function(t){var e=this._data.pagination,i={context:this._data.paginationContext,model:t,template:this._data.paginationTemplate};this._render(e,i,function(){})},_animate:function(t){this._transitions(t,{preset:"fadeIn",duration:750},function(){})},_updateCount:function(t){var e;this.options.channel&&(e=this.options.channel+".change",this._publish(e,t))},_filter:t.noop,_initAutoSearch:t.noop,_onScopeBind:t.noop}),t}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("ellipsis-element")):"function"==typeof define&&define.amd?define(["ellipsis-element"],e):t.returnExports=e($)}(this,function(t){t.element.custom&&t.element.registerElement("overlay-element"),t(function(){return t.element("elliptical.veneer","ui-veneer",{options:{animationIn:"bounceInDown",modalCssClass:null,modalZIndex:1e4,modalOpacity:.3,cssClass:null,scope:null},_initElement:function(){this.options.template&&(this._data.model={},this._getModel(),this._attachElement(),this._show())},_getModel:function(){var t=this.options.scope;t&&$$&&$$.elliptical&&$$.elliptical.context&&(this._data.model=$$.elliptical.context[t]?$$.elliptical.context[t]:{})},_attachElement:function(){var e=t("<overlay-element></overlay-element>");this._data.container=e,this.options.cssClass&&e.addClass(this.options.cssClass);var i=t("body");i.append(e)},_show:function(){var t=this;this._showModal(function(){t._renderElement()})},_renderElement:function(){var t=this,e=this._data.container;this._render(e,{template:this.options.template,model:this._data.model},function(){t._data.element=t._data.container.find(">*"),t._animate()})},_showModal:function(t){var e={};e.opacity=this.options.modalOpacity,e.zIndex=this.options.modalZIndex,this._setModal(this.element,e,function(){t()})},_animate:function(){var t=this._data.element;this._transitions(t,{preset:this.options.animationIn},function(){})},_onDestroy:function(){this._data.container&&this._data.container.remove(),this._removeModal()}}),t})}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("../controller/controller"),require("../scroll/scroll")):"function"==typeof define&&define.amd?define(["../controller/controller","../scroll/scroll"],e):t.returnExports=e()}(this,function(){return $.element.custom&&$.element.registerElement("reveal-container"),$.controller("elliptical.stickyReveal","ui-sticky-reveal",$.elliptical.scroll,{options:{animationIn:"slideIn",animationOut:"slideOut",durationIn:500,durationOut:500,yOffset:60},_initController:function(){if(this._support.mq.touch)this._destroy();else{if(this._data.$element=null,this._data.visible=!1,this._getContainer(),this.options.template&&"sync"!==this.options.event){var t=this._getModel();this._renderElement(t)}this.__setElement()}},__setElement:function(){var t=window.pageYOffset;this._onScroll(t)},_getContainer:function(){this._data.container=this.element.find(this.options.$customElements?"reveal-container":".reveal-container")},_onScroll:function(t){if(!this._data.disabled){var e=this.options.yOffset,i=this._data.visible;t>e&&!i?(this._data.visible=!0,this._show()):e>t&&i&&(this._data.visible=!1,this._hide())}},_getModel:function(){var t,e=this.options.scope;return e&&$$&&$$.elliptical&&$$.elliptical.context&&(t=$$.elliptical.context[e]?$$.elliptical.context[e]:{}),t},_onRenderElement:function(t){this._renderElement(t)},_renderElement:function(t){var e=this._data.container;this._render(e,{template:this.options.template,model:t},function(){})},_show:function(){var t=this.element;this._transitions(t,{preset:this.options.animationIn,duration:this.options.durationIn},function(){})},_hide:function(){var t=this.element;this._transitions(t,{preset:this.options.animationOut,duration:this.options.durationOut},function(){})},_onSyncSubscribe:function(t){if(!this._support.mq.touch){this._data.$element=t;var e=this.$scope;this._onRenderElement(e)}},_onDestroy:function(){this.options.template&&this._data.container&&this._data.container.empty(),this._support.mq.touch&&this._super()}}),$}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("../controller/controller")):"function"==typeof define&&define.amd?define(["../controller/controller"],e):t.returnExports=e($)}(this,function(t){return t.controller("elliptical.download",{_download:function(t,e){var i=this,n=e.delay;if(this._support.device.touch)window.open(t);else{if("undefined"!=typeof e){var o=void 0===e.cssClass?"info":e.cssClass,s=void 0===e.msg?"Downloading File":e.msg,r=e.terminate;void 0===r&&(r=!0),this._notify(o,s,r),void 0===n&&(n=100)}void 0===n&&(n=100),setTimeout(function(){i.__download(t)},n)}},__download:function(e){if(t.browser.webkit){var i=document.createElement("a");if(i.href=e,void 0!==i.download&&(i.download=e),document.createEvent){var n=document.createEvent("MouseEvents");return n.initEvent("click",!0,!0),i.dispatchEvent(n),!0}-1===e.indexOf("?")&&(e+="?download"),window.open(e,"_self")}else-1===e.indexOf("?")&&(e+="?download"),window.open(e);return!0}}),t});